begin_unit|revision:0.9.5;language:Java;cregit-version:0.0.1
begin_comment
comment|/*  * Licensed to the Apache Software Foundation (ASF) under one  * or more contributor license agreements.  See the NOTICE file  * distributed with this work for additional information  * regarding copyright ownership.  The ASF licenses this file  * to you under the Apache License, Version 2.0 (the  * "License"); you may not use this file except in compliance  * with the License.  You may obtain a copy of the License at  *  *   http://www.apache.org/licenses/LICENSE-2.0  *  * Unless required by applicable law or agreed to in writing,  * software distributed under the License is distributed on an  * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY  * KIND, either express or implied.  See the License for the  * specific language governing permissions and limitations  * under the License.  */
end_comment

begin_package
package|package
name|org
operator|.
name|apache
operator|.
name|jackrabbit
operator|.
name|oak
operator|.
name|plugins
operator|.
name|blob
package|;
end_package

begin_import
import|import static
name|com
operator|.
name|google
operator|.
name|common
operator|.
name|base
operator|.
name|Preconditions
operator|.
name|checkNotNull
import|;
end_import

begin_import
import|import static
name|org
operator|.
name|apache
operator|.
name|jackrabbit
operator|.
name|oak
operator|.
name|commons
operator|.
name|IOUtils
operator|.
name|humanReadableByteCount
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|concurrent
operator|.
name|TimeUnit
import|;
end_import

begin_import
import|import
name|javax
operator|.
name|management
operator|.
name|openmbean
operator|.
name|CompositeData
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|jackrabbit
operator|.
name|api
operator|.
name|stats
operator|.
name|TimeSeries
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|jackrabbit
operator|.
name|oak
operator|.
name|commons
operator|.
name|jmx
operator|.
name|AnnotatedStandardMBean
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|jackrabbit
operator|.
name|oak
operator|.
name|spi
operator|.
name|blob
operator|.
name|stats
operator|.
name|BlobStoreStatsMBean
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|jackrabbit
operator|.
name|oak
operator|.
name|stats
operator|.
name|HistogramStats
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|jackrabbit
operator|.
name|oak
operator|.
name|stats
operator|.
name|MeterStats
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|jackrabbit
operator|.
name|oak
operator|.
name|stats
operator|.
name|StatisticsProvider
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|jackrabbit
operator|.
name|oak
operator|.
name|stats
operator|.
name|StatsOptions
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|jackrabbit
operator|.
name|stats
operator|.
name|TimeSeriesAverage
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|jackrabbit
operator|.
name|stats
operator|.
name|TimeSeriesStatsUtil
import|;
end_import

begin_import
import|import
name|org
operator|.
name|jetbrains
operator|.
name|annotations
operator|.
name|NotNull
import|;
end_import

begin_import
import|import
name|org
operator|.
name|slf4j
operator|.
name|Logger
import|;
end_import

begin_import
import|import
name|org
operator|.
name|slf4j
operator|.
name|LoggerFactory
import|;
end_import

begin_class
annotation|@
name|SuppressWarnings
argument_list|(
literal|"Duplicates"
argument_list|)
specifier|public
class|class
name|BlobStoreStats
extends|extends
name|AnnotatedStandardMBean
implements|implements
name|BlobStoreStatsMBean
implements|,
name|ExtendedBlobStatsCollector
block|{
specifier|private
specifier|final
name|Logger
name|opsLogger
init|=
name|LoggerFactory
operator|.
name|getLogger
argument_list|(
literal|"org.apache.jackrabbit.oak.operations.blobs"
argument_list|)
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_UPLOADS
init|=
literal|"BLOB_UPLOADS"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_UPLOAD_COUNT
init|=
literal|"BLOB_UPLOAD_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_UPLOAD_SIZE
init|=
literal|"BLOB_UPLOAD_SIZE"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_UPLOAD_TIME
init|=
literal|"BLOB_UPLOAD_TIME"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_UPLOAD_ERROR_COUNT
init|=
literal|"BLOB_UPLOAD_ERROR_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_DOWNLOADS
init|=
literal|"BLOB_DOWNLOADS"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_DOWNLOAD_COUNT
init|=
literal|"BLOB_DOWNLOAD_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_DOWNLOAD_SIZE
init|=
literal|"BLOB_DOWNLOAD_SIZE"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_DOWNLOAD_TIME
init|=
literal|"BLOB_DOWNLOAD_TIME"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_DOWNLOAD_ERROR_COUNT
init|=
literal|"BLOB_DOWNLOAD_ERROR_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_DELETE_COUNT
init|=
literal|"BLOB_DELETE_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_DELETE_TIME
init|=
literal|"BLOB_DELETE_TIME"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_DELETE_ERROR_COUNT
init|=
literal|"BLOB_DELETE_ERROR_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_DELETE_BY_DATE_COUNT
init|=
literal|"BLOB_DELETE_BY_DATE_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_DELETE_BY_DATE_TIME
init|=
literal|"BLOB_DELETE_BY_DATE_TIME"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_DELETE_BY_DATE_ERROR_COUNT
init|=
literal|"BLOB_DELETE_BY_DATE_ERROR_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_ADD_RECORD_COUNT
init|=
literal|"BLOB_ADD_RECORD_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_ADD_RECORD_SIZE
init|=
literal|"BLOB_ADD_RECORD_SIZE"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_ADD_RECORD_TIME
init|=
literal|"BLOB_ADD_RECORD_TIME"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_ADD_RECORD_ERROR_COUNT
init|=
literal|"BLOB_ADD_RECORD_ERROR_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_GETREC_COUNT
init|=
literal|"BLOB_GETREC_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_GETREC_TIME
init|=
literal|"BLOB_GETREC_TIME"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_GETREC_SIZE
init|=
literal|"BLOB_GETREC_SIZE"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_GETREC_ERROR_COUNT
init|=
literal|"BLOB_GETREC_ERROR_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_GETRECIFSTORED_COUNT
init|=
literal|"BLOB_GETRECIFSTORED_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_GETRECIFSTORED_TIME
init|=
literal|"BLOB_GETRECIFSTORED_TIME"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_GETRECIFSTORED_SIZE
init|=
literal|"BLOB_GETRECIFSTORED_SIZE"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_GETRECIFSTORED_ERROR_COUNT
init|=
literal|"BLOB_GETRECIFSTORED_ERROR_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_GETRECFROMREF_COUNT
init|=
literal|"BLOB_GETRECFROMREF_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_GETRECFROMREF_TIME
init|=
literal|"BLOB_GETRECFROMREF_TIME"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_GETRECFROMREF_SIZE
init|=
literal|"BLOB_GETRECFROMREF_SIZE"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_GETRECFROMREF_ERROR_COUNT
init|=
literal|"BLOB_GETRECFROMREF_ERROR_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_GETRECFORID_COUNT
init|=
literal|"BLOB_GETRECFORID_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_GETRECFORID_TIME
init|=
literal|"BLOB_GETRECFORID_TIME"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_GETRECFORID_SIZE
init|=
literal|"BLOB_GETRECFORID_SIZE"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_GETRECFORID_ERROR_COUNT
init|=
literal|"BLOB_GETRECFORID_ERROR_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_GETALLRECORDS_COUNT
init|=
literal|"BLOB_GETALLRECORDS_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_GETALLRECORDS_TIME
init|=
literal|"BLOB_GETALLRECORDS_TIME"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_LISTIDS_COUNT
init|=
literal|"BLOB_LISTIDS_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_LISTIDS_TIME
init|=
literal|"BLOB_LISTIDS_TIME"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_LISTIDS_ERROR_COUNT
init|=
literal|"BLOB_LISTIDS_ERROR_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_ADD_METADATA_RECORD_COUNT
init|=
literal|"BLOB_ADD_METADATA_RECORD_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_ADD_METADATA_RECORD_TIME
init|=
literal|"BLOB_ADD_METADATA_RECORD_TIME"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_ADD_METADATA_RECORD_ERROR_COUNT
init|=
literal|"BLOB_ADD_METADATA_RECORD_ERROR_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_GET_METADATA_RECORD_COUNT
init|=
literal|"BLOB_GET_METADATA_RECORD_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_GET_METADATA_RECORD_TIME
init|=
literal|"BLOB_GET_METADATA_RECORD_TIME"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_GET_METADATA_RECORD_ERROR_COUNT
init|=
literal|"BLOB_GET_METADATA_RECORD_ERROR_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_GET_ALL_METADATA_RECORDS_COUNT
init|=
literal|"BLOB_GET_ALL_METADATA_RECORDS_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_GET_ALL_METADATA_RECORDS_TIME
init|=
literal|"BLOB_GET_ALL_METADATA_RECORDS_TIME"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_GET_ALL_METADATA_RECORDS_ERROR_COUNT
init|=
literal|"BLOB_GET_ALL_METADATA_RECORDS_ERROR_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_METADATA_RECORD_EXISTS_COUNT
init|=
literal|"BLOB_METADATA_RECORD_EXISTS_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_METADATA_RECORD_EXISTS_TIME
init|=
literal|"BLOB_METADATA_RECORD_EXISTS_TIME"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_METADATA_RECORD_EXISTS_ERROR_COUNT
init|=
literal|"BLOB_METADATA_RECORD_EXISTS_ERROR_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_DELETE_METADATA_RECORD_COUNT
init|=
literal|"BLOB_DELETE_METADATA_RECORD_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_DELETE_METADATA_RECORD_TIME
init|=
literal|"BLOB_DELETE_METADATA_RECORD_TIME"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_DELETE_METADATA_RECORD_ERROR_COUNT
init|=
literal|"BLOB_DELETE_METADATA_RECORD_ERROR_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_DELETE_ALL_METADATA_RECORDS_COUNT
init|=
literal|"BLOB_DELETE_ALL_METADATA_RECORDS_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_DELETE_ALL_METADATA_RECORDS_TIME
init|=
literal|"BLOB_DELETE_ALL_METADATA_RECORDS_TIME"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_DELETE_ALL_METADATA_RECORDS_ERROR_COUNT
init|=
literal|"BLOB_DELETE_ALL_METADATA_RECORDS_ERROR_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_INIT_DIRECT_UPLOAD_COUNT
init|=
literal|"BLOB_INIT_DIRECT_UPLOAD_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_INIT_DIRECT_UPLOAD_TIME
init|=
literal|"BLOB_INIT_DIRECT_UPLOAD_TIME"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_INIT_DIRECT_UPLOAD_ERROR_COUNT
init|=
literal|"BLOB_INIT_DIRECT_UPLOAD_ERROR_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_COMPLETE_DIRECT_UPLOAD_COUNT
init|=
literal|"BLOB_COMPLETE_DIRECT_UPLOAD_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_COMPLETE_DIRECT_UPLOAD_TIME
init|=
literal|"BLOB_COMPLETE_DIRECT_UPLOAD_TIME"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_COMPLETE_DIRECT_UPLOAD_ERROR_COUNT
init|=
literal|"BLOB_COMPLETE_DIRECT_UPLOAD_ERROR_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_GET_DIRECT_DOWNLOAD_URI_COUNT
init|=
literal|"BLOB_GET_DIRECT_DOWNLOAD_URI_COUNT"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_GET_DIRECT_DOWNLOAD_URI_TIME
init|=
literal|"BLOB_GET_DIRECT_DOWNLOAD_URI_TIME"
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|String
name|BLOB_GET_DIRECT_DOWNLOAD_URI_ERROR_COUNT
init|=
literal|"BLOB_GET_DIRECT_DOWNLOAD_URI_ERROR_COUNT"
decl_stmt|;
specifier|private
specifier|final
name|StatisticsProvider
name|statisticsProvider
decl_stmt|;
specifier|private
specifier|final
name|HistogramStats
name|uploadHisto
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|uploadCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|uploadErrorCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|uploadSizeSeries
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|uploadTimeSeries
decl_stmt|;
specifier|private
specifier|final
name|TimeSeries
name|uploadRateSeries
decl_stmt|;
specifier|private
specifier|final
name|HistogramStats
name|downloadHisto
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|downloadCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|downloadSizeSeries
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|downloadTimeSeries
decl_stmt|;
specifier|private
specifier|final
name|TimeSeries
name|downloadRateSeries
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|downloadErrorCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|deleteCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|deleteTimeSeries
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|deleteErrorCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|deleteByDateCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|deleteByDateTimeSeries
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|deleteByDateErrorCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|addRecordCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|addRecordSizeSeries
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|addRecordTimeSeries
decl_stmt|;
specifier|private
specifier|final
name|TimeSeries
name|addRecordRateSeries
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|addRecordErrorCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|getRecordCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|getRecordTimeSeries
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|getRecordSizeSeries
decl_stmt|;
specifier|private
specifier|final
name|TimeSeries
name|getRecordRateSeries
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|getRecordErrorCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|getRecordIfStoredCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|getRecordIfStoredTimeSeries
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|getRecordIfStoredSizeSeries
decl_stmt|;
specifier|private
specifier|final
name|TimeSeries
name|getRecordIfStoredRateSeries
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|getRecordIfStoredErrorCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|getRecordFromRefCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|getRecordFromRefTimeSeries
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|getRecordFromRefSizeSeries
decl_stmt|;
specifier|private
specifier|final
name|TimeSeries
name|getRecordFromRefRateSeries
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|getRecordFromRefErrorCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|getRecordForIdCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|getRecordForIdTimeSeries
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|getRecordForIdSizeSeries
decl_stmt|;
specifier|private
specifier|final
name|TimeSeries
name|getRecordForIdRateSeries
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|getRecordForIdErrorCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|getAllRecordsCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|getAllRecordsTimeSeries
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|listIdsCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|listIdsTimeSeries
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|listIdsErrorCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|addMetadataRecordCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|addMetadataRecordTimeSeries
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|addMetadataRecordErrorCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|getMetadataRecordCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|getMetadataRecordTimeSeries
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|getMetadataRecordErrorCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|getAllMetadataRecordsCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|getAllMetadataRecordsTimeSeries
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|getAllMetadataRecordsErrorCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|metadataRecordExistsCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|metadataRecordExistsTimeSeries
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|metadataRecordExistsErrorCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|deleteMetadataRecordCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|deleteMetadataRecordTimeSeries
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|deleteMetadataRecordErrorCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|deleteAllMetadataRecordsCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|deleteAllMetadataRecordsTimeSeries
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|deleteAllMetadataRecordsErrorCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|initBlobUploadCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|initBlobUploadTimeSeries
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|initBlobUploadErrorCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|completeBlobUploadCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|completeBlobUploadTimeSeries
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|completeBlobUploadErrorCount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|getBlobDownloadURICount
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|getBlobDownloadURITimeSeries
decl_stmt|;
specifier|private
specifier|final
name|MeterStats
name|getBlobDownloadURIErrorCount
decl_stmt|;
specifier|private
specifier|final
name|TimeUnit
name|recordedTimeUnit
init|=
name|TimeUnit
operator|.
name|NANOSECONDS
decl_stmt|;
specifier|public
name|BlobStoreStats
parameter_list|(
annotation|@
name|NotNull
name|StatisticsProvider
name|sp
parameter_list|)
block|{
name|super
argument_list|(
name|BlobStoreStatsMBean
operator|.
name|class
argument_list|)
expr_stmt|;
name|this
operator|.
name|statisticsProvider
operator|=
name|checkNotNull
argument_list|(
name|sp
argument_list|)
expr_stmt|;
name|this
operator|.
name|uploadHisto
operator|=
name|sp
operator|.
name|getHistogram
argument_list|(
name|BLOB_UPLOADS
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|uploadCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_UPLOAD_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|uploadErrorCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_UPLOAD_ERROR_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|uploadSizeSeries
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_UPLOAD_SIZE
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|uploadTimeSeries
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_UPLOAD_TIME
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|uploadRateSeries
operator|=
name|getAvgTimeSeries
argument_list|(
name|BLOB_UPLOAD_SIZE
argument_list|,
name|BLOB_UPLOAD_TIME
argument_list|)
expr_stmt|;
name|this
operator|.
name|downloadHisto
operator|=
name|sp
operator|.
name|getHistogram
argument_list|(
name|BLOB_DOWNLOADS
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|downloadCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_DOWNLOAD_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|downloadSizeSeries
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_DOWNLOAD_SIZE
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|downloadTimeSeries
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_DOWNLOAD_TIME
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|downloadRateSeries
operator|=
name|getAvgTimeSeries
argument_list|(
name|BLOB_DOWNLOAD_SIZE
argument_list|,
name|BLOB_DOWNLOAD_TIME
argument_list|)
expr_stmt|;
name|this
operator|.
name|downloadErrorCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_DOWNLOAD_ERROR_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|deleteCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_DELETE_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|deleteTimeSeries
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_DELETE_TIME
argument_list|,
name|StatsOptions
operator|.
name|TIME_SERIES_ONLY
argument_list|)
expr_stmt|;
name|this
operator|.
name|deleteErrorCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_DELETE_ERROR_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|deleteByDateCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_DELETE_BY_DATE_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|deleteByDateTimeSeries
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_DELETE_BY_DATE_TIME
argument_list|,
name|StatsOptions
operator|.
name|TIME_SERIES_ONLY
argument_list|)
expr_stmt|;
name|this
operator|.
name|deleteByDateErrorCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_DELETE_BY_DATE_ERROR_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|addRecordCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_ADD_RECORD_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|addRecordSizeSeries
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_ADD_RECORD_SIZE
argument_list|,
name|StatsOptions
operator|.
name|TIME_SERIES_ONLY
argument_list|)
expr_stmt|;
name|this
operator|.
name|addRecordTimeSeries
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_ADD_RECORD_TIME
argument_list|,
name|StatsOptions
operator|.
name|TIME_SERIES_ONLY
argument_list|)
expr_stmt|;
name|this
operator|.
name|addRecordRateSeries
operator|=
name|getAvgTimeSeries
argument_list|(
name|BLOB_ADD_RECORD_SIZE
argument_list|,
name|BLOB_ADD_RECORD_TIME
argument_list|)
expr_stmt|;
name|this
operator|.
name|addRecordErrorCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_ADD_RECORD_ERROR_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|getRecordCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_GETREC_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|getRecordTimeSeries
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_GETREC_TIME
argument_list|,
name|StatsOptions
operator|.
name|TIME_SERIES_ONLY
argument_list|)
expr_stmt|;
name|this
operator|.
name|getRecordSizeSeries
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_GETREC_SIZE
argument_list|,
name|StatsOptions
operator|.
name|TIME_SERIES_ONLY
argument_list|)
expr_stmt|;
name|this
operator|.
name|getRecordRateSeries
operator|=
name|getAvgTimeSeries
argument_list|(
name|BLOB_GETREC_SIZE
argument_list|,
name|BLOB_GETREC_TIME
argument_list|)
expr_stmt|;
name|this
operator|.
name|getRecordErrorCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_GETREC_ERROR_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|getRecordIfStoredCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_GETRECIFSTORED_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|getRecordIfStoredTimeSeries
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_GETRECIFSTORED_TIME
argument_list|,
name|StatsOptions
operator|.
name|TIME_SERIES_ONLY
argument_list|)
expr_stmt|;
name|this
operator|.
name|getRecordIfStoredSizeSeries
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_GETRECIFSTORED_SIZE
argument_list|,
name|StatsOptions
operator|.
name|TIME_SERIES_ONLY
argument_list|)
expr_stmt|;
name|this
operator|.
name|getRecordIfStoredRateSeries
operator|=
name|getAvgTimeSeries
argument_list|(
name|BLOB_GETRECIFSTORED_SIZE
argument_list|,
name|BLOB_GETRECIFSTORED_TIME
argument_list|)
expr_stmt|;
name|this
operator|.
name|getRecordIfStoredErrorCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_GETRECIFSTORED_ERROR_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|getRecordFromRefCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_GETRECFROMREF_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|getRecordFromRefTimeSeries
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_GETRECFROMREF_TIME
argument_list|,
name|StatsOptions
operator|.
name|TIME_SERIES_ONLY
argument_list|)
expr_stmt|;
name|this
operator|.
name|getRecordFromRefSizeSeries
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_GETRECFROMREF_SIZE
argument_list|,
name|StatsOptions
operator|.
name|TIME_SERIES_ONLY
argument_list|)
expr_stmt|;
name|this
operator|.
name|getRecordFromRefRateSeries
operator|=
name|getAvgTimeSeries
argument_list|(
name|BLOB_GETRECFROMREF_SIZE
argument_list|,
name|BLOB_GETRECFROMREF_TIME
argument_list|)
expr_stmt|;
name|this
operator|.
name|getRecordFromRefErrorCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_GETRECFROMREF_ERROR_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|getRecordForIdCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_GETRECFORID_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|getRecordForIdTimeSeries
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_GETRECFORID_TIME
argument_list|,
name|StatsOptions
operator|.
name|TIME_SERIES_ONLY
argument_list|)
expr_stmt|;
name|this
operator|.
name|getRecordForIdSizeSeries
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_GETRECFORID_SIZE
argument_list|,
name|StatsOptions
operator|.
name|TIME_SERIES_ONLY
argument_list|)
expr_stmt|;
name|this
operator|.
name|getRecordForIdRateSeries
operator|=
name|getAvgTimeSeries
argument_list|(
name|BLOB_GETRECFORID_SIZE
argument_list|,
name|BLOB_GETRECFORID_TIME
argument_list|)
expr_stmt|;
name|this
operator|.
name|getRecordForIdErrorCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_GETRECFORID_ERROR_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|getAllRecordsCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_GETALLRECORDS_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|getAllRecordsTimeSeries
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_GETALLRECORDS_TIME
argument_list|,
name|StatsOptions
operator|.
name|TIME_SERIES_ONLY
argument_list|)
expr_stmt|;
name|this
operator|.
name|listIdsCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_LISTIDS_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|listIdsTimeSeries
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_LISTIDS_TIME
argument_list|,
name|StatsOptions
operator|.
name|TIME_SERIES_ONLY
argument_list|)
expr_stmt|;
name|this
operator|.
name|listIdsErrorCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_LISTIDS_ERROR_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|addMetadataRecordCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_ADD_METADATA_RECORD_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|addMetadataRecordTimeSeries
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_ADD_METADATA_RECORD_TIME
argument_list|,
name|StatsOptions
operator|.
name|TIME_SERIES_ONLY
argument_list|)
expr_stmt|;
name|this
operator|.
name|addMetadataRecordErrorCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_ADD_METADATA_RECORD_ERROR_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|getMetadataRecordCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_GET_METADATA_RECORD_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|getMetadataRecordTimeSeries
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_GET_METADATA_RECORD_TIME
argument_list|,
name|StatsOptions
operator|.
name|TIME_SERIES_ONLY
argument_list|)
expr_stmt|;
name|this
operator|.
name|getMetadataRecordErrorCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_GET_METADATA_RECORD_ERROR_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|getAllMetadataRecordsCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_GET_ALL_METADATA_RECORDS_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|getAllMetadataRecordsTimeSeries
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_GET_ALL_METADATA_RECORDS_TIME
argument_list|,
name|StatsOptions
operator|.
name|TIME_SERIES_ONLY
argument_list|)
expr_stmt|;
name|this
operator|.
name|getAllMetadataRecordsErrorCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_GET_ALL_METADATA_RECORDS_ERROR_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|metadataRecordExistsCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_METADATA_RECORD_EXISTS_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|metadataRecordExistsTimeSeries
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_METADATA_RECORD_EXISTS_TIME
argument_list|,
name|StatsOptions
operator|.
name|TIME_SERIES_ONLY
argument_list|)
expr_stmt|;
name|this
operator|.
name|metadataRecordExistsErrorCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_METADATA_RECORD_EXISTS_ERROR_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|deleteMetadataRecordCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_DELETE_METADATA_RECORD_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|deleteMetadataRecordTimeSeries
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_DELETE_METADATA_RECORD_TIME
argument_list|,
name|StatsOptions
operator|.
name|TIME_SERIES_ONLY
argument_list|)
expr_stmt|;
name|this
operator|.
name|deleteMetadataRecordErrorCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_DELETE_METADATA_RECORD_ERROR_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|deleteAllMetadataRecordsCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_DELETE_ALL_METADATA_RECORDS_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|deleteAllMetadataRecordsTimeSeries
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_DELETE_ALL_METADATA_RECORDS_TIME
argument_list|,
name|StatsOptions
operator|.
name|TIME_SERIES_ONLY
argument_list|)
expr_stmt|;
name|this
operator|.
name|deleteAllMetadataRecordsErrorCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_DELETE_ALL_METADATA_RECORDS_ERROR_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|initBlobUploadCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_INIT_DIRECT_UPLOAD_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|initBlobUploadTimeSeries
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_INIT_DIRECT_UPLOAD_TIME
argument_list|,
name|StatsOptions
operator|.
name|TIME_SERIES_ONLY
argument_list|)
expr_stmt|;
name|this
operator|.
name|initBlobUploadErrorCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_INIT_DIRECT_UPLOAD_ERROR_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|completeBlobUploadCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_COMPLETE_DIRECT_UPLOAD_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|completeBlobUploadTimeSeries
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_COMPLETE_DIRECT_UPLOAD_TIME
argument_list|,
name|StatsOptions
operator|.
name|TIME_SERIES_ONLY
argument_list|)
expr_stmt|;
name|this
operator|.
name|completeBlobUploadErrorCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_COMPLETE_DIRECT_UPLOAD_ERROR_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|getBlobDownloadURICount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_GET_DIRECT_DOWNLOAD_URI_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
name|this
operator|.
name|getBlobDownloadURITimeSeries
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_GET_DIRECT_DOWNLOAD_URI_TIME
argument_list|,
name|StatsOptions
operator|.
name|TIME_SERIES_ONLY
argument_list|)
expr_stmt|;
name|this
operator|.
name|getBlobDownloadURIErrorCount
operator|=
name|sp
operator|.
name|getMeter
argument_list|(
name|BLOB_GET_DIRECT_DOWNLOAD_URI_ERROR_COUNT
argument_list|,
name|StatsOptions
operator|.
name|DEFAULT
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|uploaded
parameter_list|(
name|long
name|timeTaken
parameter_list|,
name|TimeUnit
name|unit
parameter_list|,
name|long
name|size
parameter_list|)
block|{
name|uploadHisto
operator|.
name|update
argument_list|(
name|size
argument_list|)
expr_stmt|;
comment|//Recording upload like this is not accurate. A more accurate way
comment|//would be to mark as upload or download is progressing.
comment|//That would however add quite a bit of overhead
comment|//Approach below would record an upload/download at moment when
comment|//it got completed. So acts like a rough approximation
name|uploadSizeSeries
operator|.
name|mark
argument_list|(
name|size
argument_list|)
expr_stmt|;
name|uploadTimeSeries
operator|.
name|mark
argument_list|(
name|recordedTimeUnit
operator|.
name|convert
argument_list|(
name|timeTaken
argument_list|,
name|unit
argument_list|)
argument_list|)
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Uploaded {} bytes in {} ms"
argument_list|,
name|size
argument_list|,
name|unit
operator|.
name|toMillis
argument_list|(
name|timeTaken
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|uploadCompleted
parameter_list|(
name|String
name|blobId
parameter_list|)
block|{
name|uploadCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Upload completed - {}"
argument_list|,
name|blobId
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|uploadFailed
parameter_list|()
block|{
name|uploadErrorCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Upload failed"
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|downloaded
parameter_list|(
name|String
name|blobId
parameter_list|,
name|long
name|timeTaken
parameter_list|,
name|TimeUnit
name|unit
parameter_list|,
name|long
name|size
parameter_list|)
block|{
name|downloadHisto
operator|.
name|update
argument_list|(
name|size
argument_list|)
expr_stmt|;
name|downloadSizeSeries
operator|.
name|mark
argument_list|(
name|size
argument_list|)
expr_stmt|;
name|downloadTimeSeries
operator|.
name|mark
argument_list|(
name|recordedTimeUnit
operator|.
name|convert
argument_list|(
name|timeTaken
argument_list|,
name|unit
argument_list|)
argument_list|)
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Downloaded {} - {} bytes in {} ms"
argument_list|,
name|blobId
argument_list|,
name|size
argument_list|,
name|unit
operator|.
name|toMillis
argument_list|(
name|timeTaken
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|downloadCompleted
parameter_list|(
name|String
name|blobId
parameter_list|)
block|{
name|downloadCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Download completed - {}"
argument_list|,
name|blobId
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|downloadFailed
parameter_list|(
name|String
name|blobId
parameter_list|)
block|{
name|downloadErrorCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Download failed - {}"
argument_list|,
name|blobId
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|deleted
parameter_list|(
name|String
name|blobId
parameter_list|,
name|long
name|timeTaken
parameter_list|,
name|TimeUnit
name|unit
parameter_list|)
block|{
name|deleteTimeSeries
operator|.
name|mark
argument_list|(
name|recordedTimeUnit
operator|.
name|convert
argument_list|(
name|timeTaken
argument_list|,
name|unit
argument_list|)
argument_list|)
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Deleted {} in {} ms"
argument_list|,
name|blobId
argument_list|,
name|unit
operator|.
name|toMillis
argument_list|(
name|timeTaken
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|deleteCompleted
parameter_list|(
name|String
name|blobId
parameter_list|)
block|{
name|deleteCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Delete completed - {}"
argument_list|,
name|blobId
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|deleteFailed
parameter_list|()
block|{
name|deleteErrorCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Delete failed"
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|deletedAllOlderThan
parameter_list|(
name|long
name|timeTaken
parameter_list|,
name|TimeUnit
name|unit
parameter_list|,
name|long
name|min
parameter_list|)
block|{
name|deleteByDateTimeSeries
operator|.
name|mark
argument_list|(
name|recordedTimeUnit
operator|.
name|convert
argument_list|(
name|timeTaken
argument_list|,
name|unit
argument_list|)
argument_list|)
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Deleted all records older than {} in {}"
argument_list|,
name|min
argument_list|,
name|unit
operator|.
name|toMillis
argument_list|(
name|timeTaken
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|deleteAllOlderThanCompleted
parameter_list|(
name|int
name|deleteCount
parameter_list|)
block|{
name|deleteByDateCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Delete all older than completed - {} records deleted"
argument_list|,
name|deleteCount
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|deleteAllOlderThanFailed
parameter_list|(
name|long
name|min
parameter_list|)
block|{
name|deleteByDateErrorCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Delete all older than failed for time {}"
argument_list|,
name|min
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|recordAdded
parameter_list|(
name|long
name|timeTaken
parameter_list|,
name|TimeUnit
name|unit
parameter_list|,
name|long
name|size
parameter_list|)
block|{
name|addRecordSizeSeries
operator|.
name|mark
argument_list|(
name|size
argument_list|)
expr_stmt|;
name|addRecordTimeSeries
operator|.
name|mark
argument_list|(
name|recordedTimeUnit
operator|.
name|convert
argument_list|(
name|timeTaken
argument_list|,
name|unit
argument_list|)
argument_list|)
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Record added - {} bytes in {} ms"
argument_list|,
name|size
argument_list|,
name|unit
operator|.
name|toMillis
argument_list|(
name|timeTaken
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|addRecordCompleted
parameter_list|(
name|String
name|blobId
parameter_list|)
block|{
name|addRecordCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Add record completed - {}"
argument_list|,
name|blobId
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|addRecordFailed
parameter_list|()
block|{
name|addRecordErrorCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Add record failed"
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|getRecordCalled
parameter_list|(
name|long
name|timeTaken
parameter_list|,
name|TimeUnit
name|unit
parameter_list|,
name|long
name|size
parameter_list|)
block|{
name|getRecordSizeSeries
operator|.
name|mark
argument_list|(
name|size
argument_list|)
expr_stmt|;
name|getRecordTimeSeries
operator|.
name|mark
argument_list|(
name|recordedTimeUnit
operator|.
name|convert
argument_list|(
name|timeTaken
argument_list|,
name|unit
argument_list|)
argument_list|)
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Get record called - {} ms"
argument_list|,
name|unit
operator|.
name|toMillis
argument_list|(
name|timeTaken
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|getRecordCompleted
parameter_list|(
name|String
name|blobId
parameter_list|)
block|{
name|getRecordCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Get record completed - {}"
argument_list|,
name|blobId
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|getRecordFailed
parameter_list|(
name|String
name|blobId
parameter_list|)
block|{
name|getRecordErrorCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Get record failed - {}"
argument_list|,
name|blobId
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|getRecordIfStoredCalled
parameter_list|(
name|long
name|timeTaken
parameter_list|,
name|TimeUnit
name|unit
parameter_list|,
name|long
name|size
parameter_list|)
block|{
name|getRecordIfStoredSizeSeries
operator|.
name|mark
argument_list|(
name|size
argument_list|)
expr_stmt|;
name|getRecordIfStoredTimeSeries
operator|.
name|mark
argument_list|(
name|recordedTimeUnit
operator|.
name|convert
argument_list|(
name|timeTaken
argument_list|,
name|unit
argument_list|)
argument_list|)
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Get record if stored called - {} ms"
argument_list|,
name|unit
operator|.
name|toMillis
argument_list|(
name|timeTaken
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|getRecordIfStoredCompleted
parameter_list|(
name|String
name|blobId
parameter_list|)
block|{
name|getRecordIfStoredCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Get record if stored completed - {}"
argument_list|,
name|blobId
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|getRecordIfStoredFailed
parameter_list|(
name|String
name|blobId
parameter_list|)
block|{
name|getRecordIfStoredErrorCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Get record if stored failed - {}"
argument_list|,
name|blobId
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|getRecordFromReferenceCalled
parameter_list|(
name|long
name|timeTaken
parameter_list|,
name|TimeUnit
name|unit
parameter_list|,
name|long
name|size
parameter_list|)
block|{
name|getRecordFromRefSizeSeries
operator|.
name|mark
argument_list|(
name|size
argument_list|)
expr_stmt|;
name|getRecordFromRefTimeSeries
operator|.
name|mark
argument_list|(
name|recordedTimeUnit
operator|.
name|convert
argument_list|(
name|timeTaken
argument_list|,
name|unit
argument_list|)
argument_list|)
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Get record from reference called - {} ms"
argument_list|,
name|unit
operator|.
name|toMillis
argument_list|(
name|timeTaken
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|getRecordFromReferenceCompleted
parameter_list|(
name|String
name|reference
parameter_list|)
block|{
name|getRecordFromRefCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Get record from reference completed - {}"
argument_list|,
name|reference
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|getRecordFromReferenceFailed
parameter_list|(
name|String
name|reference
parameter_list|)
block|{
name|getRecordFromRefErrorCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Get record from reference failed - {}"
argument_list|,
name|reference
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|getRecordForIdCalled
parameter_list|(
name|long
name|timeTaken
parameter_list|,
name|TimeUnit
name|unit
parameter_list|,
name|long
name|size
parameter_list|)
block|{
name|getRecordForIdSizeSeries
operator|.
name|mark
argument_list|(
name|size
argument_list|)
expr_stmt|;
name|getRecordForIdTimeSeries
operator|.
name|mark
argument_list|(
name|recordedTimeUnit
operator|.
name|convert
argument_list|(
name|timeTaken
argument_list|,
name|unit
argument_list|)
argument_list|)
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Get record for id called - {} ms"
argument_list|,
name|unit
operator|.
name|toMillis
argument_list|(
name|timeTaken
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|getRecordForIdCompleted
parameter_list|(
name|String
name|blobId
parameter_list|)
block|{
name|getRecordForIdCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Get record for id completed - {}"
argument_list|,
name|blobId
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|getRecordForIdFailed
parameter_list|(
name|String
name|blobId
parameter_list|)
block|{
name|getRecordForIdErrorCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Get record for id failed - {}"
argument_list|,
name|blobId
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|getAllRecordsCalled
parameter_list|(
name|long
name|timeTaken
parameter_list|,
name|TimeUnit
name|unit
parameter_list|)
block|{
name|getAllRecordsTimeSeries
operator|.
name|mark
argument_list|(
name|recordedTimeUnit
operator|.
name|convert
argument_list|(
name|timeTaken
argument_list|,
name|unit
argument_list|)
argument_list|)
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Get all records called - {} ms"
argument_list|,
name|unit
operator|.
name|toMillis
argument_list|(
name|timeTaken
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|getAllRecordsCompleted
parameter_list|()
block|{
name|getAllRecordsCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Get all records completed"
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|getAllIdentifiersCalled
parameter_list|(
name|long
name|timeTaken
parameter_list|,
name|TimeUnit
name|unit
parameter_list|)
block|{
name|listIdsTimeSeries
operator|.
name|mark
argument_list|(
name|recordedTimeUnit
operator|.
name|convert
argument_list|(
name|timeTaken
argument_list|,
name|unit
argument_list|)
argument_list|)
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Get all identifiers called - {} ms"
argument_list|,
name|unit
operator|.
name|toMillis
argument_list|(
name|timeTaken
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|getAllIdentifiersCompleted
parameter_list|()
block|{
name|listIdsCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Get all identifiers completed"
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|getAllIdentifiersFailed
parameter_list|()
block|{
name|listIdsErrorCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Get all identifiers failed"
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|metadataRecordAdded
parameter_list|(
name|long
name|timeTaken
parameter_list|,
name|TimeUnit
name|unit
parameter_list|)
block|{
name|addMetadataRecordTimeSeries
operator|.
name|mark
argument_list|(
name|recordedTimeUnit
operator|.
name|convert
argument_list|(
name|timeTaken
argument_list|,
name|unit
argument_list|)
argument_list|)
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Metadata record added - {} ms"
argument_list|,
name|unit
operator|.
name|toMillis
argument_list|(
name|timeTaken
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|addMetadataRecordCompleted
parameter_list|(
name|String
name|name
parameter_list|)
block|{
name|addMetadataRecordCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Add metadata record named {} completed"
argument_list|,
name|name
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|addMetadataRecordFailed
parameter_list|(
name|String
name|name
parameter_list|)
block|{
name|addMetadataRecordErrorCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Add metadata record named {} failed"
argument_list|,
name|name
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|getMetadataRecordCalled
parameter_list|(
name|long
name|timeTaken
parameter_list|,
name|TimeUnit
name|unit
parameter_list|)
block|{
name|getMetadataRecordTimeSeries
operator|.
name|mark
argument_list|(
name|recordedTimeUnit
operator|.
name|convert
argument_list|(
name|timeTaken
argument_list|,
name|unit
argument_list|)
argument_list|)
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Get metadata record called - {} ms"
argument_list|,
name|unit
operator|.
name|toMillis
argument_list|(
name|timeTaken
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|getMetadataRecordCompleted
parameter_list|(
name|String
name|name
parameter_list|)
block|{
name|getMetadataRecordCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Get metadata record completed"
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|getMetadataRecordFailed
parameter_list|(
name|String
name|name
parameter_list|)
block|{
name|getMetadataRecordErrorCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Get metadata record failed"
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|getAllMetadataRecordsCalled
parameter_list|(
name|long
name|timeTaken
parameter_list|,
name|TimeUnit
name|unit
parameter_list|)
block|{
name|getAllMetadataRecordsTimeSeries
operator|.
name|mark
argument_list|(
name|recordedTimeUnit
operator|.
name|convert
argument_list|(
name|timeTaken
argument_list|,
name|unit
argument_list|)
argument_list|)
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Get all metadata records called - {} ms"
argument_list|,
name|unit
operator|.
name|toMillis
argument_list|(
name|timeTaken
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|getAllMetadataRecordsCompleted
parameter_list|(
name|String
name|prefix
parameter_list|)
block|{
name|getAllMetadataRecordsCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Get all metadata records for prefix {} completed"
argument_list|,
name|prefix
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|getAllMetadataRecordsFailed
parameter_list|(
name|String
name|prefix
parameter_list|)
block|{
name|getAllMetadataRecordsErrorCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Get all metadata records for prefix {} failed"
argument_list|,
name|prefix
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|metadataRecordExistsCalled
parameter_list|(
name|long
name|timeTaken
parameter_list|,
name|TimeUnit
name|unit
parameter_list|)
block|{
name|metadataRecordExistsTimeSeries
operator|.
name|mark
argument_list|(
name|recordedTimeUnit
operator|.
name|convert
argument_list|(
name|timeTaken
argument_list|,
name|unit
argument_list|)
argument_list|)
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Metadata record exists check - {} ms"
argument_list|,
name|unit
operator|.
name|toMillis
argument_list|(
name|timeTaken
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|metadataRecordExistsCompleted
parameter_list|(
name|String
name|name
parameter_list|)
block|{
name|metadataRecordExistsCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Metadata record exists check for {} completed"
argument_list|,
name|name
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|metadataRecordExistsFailed
parameter_list|(
name|String
name|name
parameter_list|)
block|{
name|metadataRecordExistsErrorCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Metadata record exists check for {} failed"
argument_list|,
name|name
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|metadataRecordDeleted
parameter_list|(
name|long
name|timeTaken
parameter_list|,
name|TimeUnit
name|unit
parameter_list|)
block|{
name|deleteMetadataRecordTimeSeries
operator|.
name|mark
argument_list|(
name|recordedTimeUnit
operator|.
name|convert
argument_list|(
name|timeTaken
argument_list|,
name|unit
argument_list|)
argument_list|)
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Metadata record deleted - {} ms"
argument_list|,
name|unit
operator|.
name|toMillis
argument_list|(
name|timeTaken
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|deleteMetadataRecordCompleted
parameter_list|(
name|String
name|name
parameter_list|)
block|{
name|deleteMetadataRecordCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Metadata record name {} deleted"
argument_list|,
name|name
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|deleteMetadataRecordFailed
parameter_list|(
name|String
name|name
parameter_list|)
block|{
name|deleteMetadataRecordErrorCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Metadata record name {} delete failed"
argument_list|,
name|name
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|allMetadataRecordsDeleted
parameter_list|(
name|long
name|timeTaken
parameter_list|,
name|TimeUnit
name|unit
parameter_list|)
block|{
name|deleteAllMetadataRecordsTimeSeries
operator|.
name|mark
argument_list|(
name|recordedTimeUnit
operator|.
name|convert
argument_list|(
name|timeTaken
argument_list|,
name|unit
argument_list|)
argument_list|)
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Bulk metadata record delete - {} ms"
argument_list|,
name|unit
operator|.
name|toMillis
argument_list|(
name|timeTaken
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|deleteAllMetadataRecordsCompleted
parameter_list|(
name|String
name|prefix
parameter_list|)
block|{
name|deleteAllMetadataRecordsCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Bulk metadata record delete with prefix {} completed"
argument_list|,
name|prefix
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|deleteAllMetadataRecordsFailed
parameter_list|(
name|String
name|prefix
parameter_list|)
block|{
name|deleteAllMetadataRecordsErrorCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Bulk metadata record delete with prefix {} failed"
argument_list|,
name|prefix
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|initiateBlobUpload
parameter_list|(
name|long
name|timeTaken
parameter_list|,
name|TimeUnit
name|unit
parameter_list|,
name|long
name|maxSize
parameter_list|,
name|int
name|maxUris
parameter_list|)
block|{
name|initBlobUploadTimeSeries
operator|.
name|mark
argument_list|(
name|recordedTimeUnit
operator|.
name|convert
argument_list|(
name|timeTaken
argument_list|,
name|unit
argument_list|)
argument_list|)
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Initiate blob upload called with size {} and # uris {} - {} ms"
argument_list|,
name|maxSize
argument_list|,
name|maxSize
argument_list|,
name|unit
operator|.
name|toMillis
argument_list|(
name|timeTaken
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|initiateBlobUploadCompleted
parameter_list|()
block|{
name|initBlobUploadCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Initiate blob upload completed"
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|initiateBlobUploadFailed
parameter_list|()
block|{
name|initBlobUploadErrorCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Initiate blob upload failed"
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|completeBlobUpload
parameter_list|(
name|long
name|timeTaken
parameter_list|,
name|TimeUnit
name|unit
parameter_list|)
block|{
name|completeBlobUploadTimeSeries
operator|.
name|mark
argument_list|(
name|recordedTimeUnit
operator|.
name|convert
argument_list|(
name|timeTaken
argument_list|,
name|unit
argument_list|)
argument_list|)
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Complete blob upload called - {} ms"
argument_list|,
name|unit
operator|.
name|toMillis
argument_list|(
name|timeTaken
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|completeBlobUploadCompleted
parameter_list|(
name|String
name|id
parameter_list|)
block|{
name|completeBlobUploadCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Complete blob upload completed - id {}"
argument_list|,
name|id
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|completeBlobUploadFailed
parameter_list|()
block|{
name|completeBlobUploadErrorCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Complete blob upload failed"
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|getDownloadURICalled
parameter_list|(
name|long
name|timeTaken
parameter_list|,
name|TimeUnit
name|unit
parameter_list|,
name|String
name|id
parameter_list|)
block|{
name|getBlobDownloadURITimeSeries
operator|.
name|mark
argument_list|(
name|recordedTimeUnit
operator|.
name|convert
argument_list|(
name|timeTaken
argument_list|,
name|unit
argument_list|)
argument_list|)
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Get download URI called for id {} - {} ms"
argument_list|,
name|id
argument_list|,
name|unit
operator|.
name|toMillis
argument_list|(
name|timeTaken
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|getDownloadURICompleted
parameter_list|(
name|String
name|uri
parameter_list|)
block|{
name|getBlobDownloadURICount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Get download URI completed - uri {}"
argument_list|,
name|uri
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|void
name|getDownloadURIFailed
parameter_list|()
block|{
name|getBlobDownloadURIErrorCount
operator|.
name|mark
argument_list|()
expr_stmt|;
name|opsLogger
operator|.
name|debug
argument_list|(
literal|"Get download URI failed"
argument_list|)
expr_stmt|;
block|}
comment|//~--------------------------------------< BlobStoreMBean>
annotation|@
name|Override
specifier|public
name|long
name|getUploadTotalSize
parameter_list|()
block|{
return|return
name|uploadSizeSeries
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getUploadCount
parameter_list|()
block|{
return|return
name|uploadCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getUploadTotalSeconds
parameter_list|()
block|{
return|return
name|recordedTimeUnit
operator|.
name|toSeconds
argument_list|(
name|uploadTimeSeries
operator|.
name|getCount
argument_list|()
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getUploadErrorCount
parameter_list|()
block|{
return|return
name|uploadErrorCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getDownloadTotalSize
parameter_list|()
block|{
return|return
name|downloadSizeSeries
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getDownloadCount
parameter_list|()
block|{
return|return
name|downloadCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getDownloadTotalSeconds
parameter_list|()
block|{
return|return
name|recordedTimeUnit
operator|.
name|toSeconds
argument_list|(
name|downloadTimeSeries
operator|.
name|getCount
argument_list|()
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getDownloadErrorCount
parameter_list|()
block|{
return|return
name|downloadErrorCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getAddRecordTotalSize
parameter_list|()
block|{
return|return
name|addRecordSizeSeries
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getAddRecordCount
parameter_list|()
block|{
return|return
name|addRecordCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getDeleteCount
parameter_list|()
block|{
return|return
name|deleteCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getDeleteErrorCount
parameter_list|()
block|{
return|return
name|deleteErrorCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getDeleteByDateCount
parameter_list|()
block|{
return|return
name|deleteByDateCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getDeleteByDateErrorCount
parameter_list|()
block|{
return|return
name|deleteByDateErrorCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getGetRecordCount
parameter_list|()
block|{
return|return
name|getRecordCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getGetRecordErrorCount
parameter_list|()
block|{
return|return
name|getRecordErrorCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getGetRecordIfStoredCount
parameter_list|()
block|{
return|return
name|getRecordIfStoredCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getGetRecordIfStoredErrorCount
parameter_list|()
block|{
return|return
name|getRecordIfStoredErrorCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getGetRecordFromReferenceCount
parameter_list|()
block|{
return|return
name|getRecordFromRefCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getGetRecordFromReferenceErrorCount
parameter_list|()
block|{
return|return
name|getRecordFromRefErrorCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getGetRecordForIdCount
parameter_list|()
block|{
return|return
name|getRecordForIdCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getGetRecordForIdErrorCount
parameter_list|()
block|{
return|return
name|getRecordForIdErrorCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getGetAllRecordsCount
parameter_list|()
block|{
return|return
name|getAllRecordsCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getListIdsCount
parameter_list|()
block|{
return|return
name|listIdsCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getListIdsErrorCount
parameter_list|()
block|{
return|return
name|listIdsErrorCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getAddMetadataRecordCount
parameter_list|()
block|{
return|return
name|addMetadataRecordCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getAddMetadataRecordErrorCount
parameter_list|()
block|{
return|return
name|addMetadataRecordErrorCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getGetMetadataRecordCount
parameter_list|()
block|{
return|return
name|getMetadataRecordCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getGetMetadataRecordErrorCount
parameter_list|()
block|{
return|return
name|getMetadataRecordErrorCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getGetAllMetadataRecordsCount
parameter_list|()
block|{
return|return
name|getAllMetadataRecordsCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getGetAllMetadataRecordsErrorCount
parameter_list|()
block|{
return|return
name|getAllMetadataRecordsErrorCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getMetadataRecordExistsCount
parameter_list|()
block|{
return|return
name|metadataRecordExistsCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getMetadataRecordExistsErrorCount
parameter_list|()
block|{
return|return
name|metadataRecordExistsErrorCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getDeleteMetadataRecordCount
parameter_list|()
block|{
return|return
name|deleteMetadataRecordCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getDeleteMetadataRecordErrorCount
parameter_list|()
block|{
return|return
name|deleteMetadataRecordErrorCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getDeleteAllMetadataRecordsCount
parameter_list|()
block|{
return|return
name|deleteAllMetadataRecordsCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getDeleteAllMetadataRecordsErrorCount
parameter_list|()
block|{
return|return
name|deleteAllMetadataRecordsErrorCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getInitBlobUploadCount
parameter_list|()
block|{
return|return
name|initBlobUploadCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getInitBlobUploadErrorCount
parameter_list|()
block|{
return|return
name|initBlobUploadErrorCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getCompleteBlobUploadCount
parameter_list|()
block|{
return|return
name|completeBlobUploadCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getCompleteBlobUploadErrorCount
parameter_list|()
block|{
return|return
name|completeBlobUploadErrorCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getGetBlobDownloadURICount
parameter_list|()
block|{
return|return
name|getBlobDownloadURICount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getGetBlobDownloadURIErrorCount
parameter_list|()
block|{
return|return
name|getBlobDownloadURIErrorCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|String
name|blobStoreInfoAsString
parameter_list|()
block|{
return|return
name|String
operator|.
name|format
argument_list|(
literal|"Uploads - size = %s, count = %d%nDownloads - size = %s, count = %d"
argument_list|,
name|humanReadableByteCount
argument_list|(
name|getUploadTotalSize
argument_list|()
argument_list|)
argument_list|,
name|getUploadCount
argument_list|()
argument_list|,
name|humanReadableByteCount
argument_list|(
name|getDownloadTotalSize
argument_list|()
argument_list|)
argument_list|,
name|getDownloadCount
argument_list|()
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getUploadSizeHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_UPLOADS
argument_list|,
literal|"Blob Uploads (bytes)"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getUploadRateHistory
parameter_list|()
block|{
return|return
name|TimeSeriesStatsUtil
operator|.
name|asCompositeData
argument_list|(
name|uploadRateSeries
argument_list|,
literal|"Blob uploads bytes/sec"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getUploadCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_UPLOAD_COUNT
argument_list|,
literal|"Blob Upload Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getUploadErrorCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_UPLOAD_ERROR_COUNT
argument_list|,
literal|"Blob Upload Error Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getDownloadSizeHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_DOWNLOADS
argument_list|,
literal|"Blob Downloads (bytes)"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getDownloadRateHistory
parameter_list|()
block|{
return|return
name|TimeSeriesStatsUtil
operator|.
name|asCompositeData
argument_list|(
name|downloadRateSeries
argument_list|,
literal|"Blob downloads bytes/secs"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getDownloadCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_DOWNLOAD_COUNT
argument_list|,
literal|"Blob Download Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getDownloadErrorCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_DOWNLOAD_ERROR_COUNT
argument_list|,
literal|"Blob Download Error Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getDeleteCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_DELETE_COUNT
argument_list|,
literal|"Blob Delete Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getDeleteTimeHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_DELETE_TIME
argument_list|,
literal|"Blob Delete Times"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getDeleteErrorCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_DELETE_ERROR_COUNT
argument_list|,
literal|"Blob Delete Error Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getDeleteByDateCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_DELETE_BY_DATE_COUNT
argument_list|,
literal|"Blob Delete By Date Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getDeleteByDateTimeHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_DELETE_BY_DATE_TIME
argument_list|,
literal|"Blob Delete By Date Times"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getDeleteByDateErrorCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_DELETE_BY_DATE_ERROR_COUNT
argument_list|,
literal|"Blob Delete By Date Error Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getAddRecordCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_ADD_RECORD_COUNT
argument_list|,
literal|"Blob Add Record Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getAddRecordErrorCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_ADD_RECORD_ERROR_COUNT
argument_list|,
literal|"Blob Add Record Error Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getAddRecordSizeHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_ADD_RECORD_SIZE
argument_list|,
literal|"Blob Add Record (bytes)"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getAddRecordRateHistory
parameter_list|()
block|{
return|return
name|TimeSeriesStatsUtil
operator|.
name|asCompositeData
argument_list|(
name|addRecordRateSeries
argument_list|,
literal|"Blob Add Record Times"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getAddRecordErrorCount
parameter_list|()
block|{
return|return
name|addRecordErrorCount
operator|.
name|getCount
argument_list|()
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getGetRecordCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_GETREC_COUNT
argument_list|,
literal|"Blob Get Record Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getGetRecordErrorCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_GETREC_ERROR_COUNT
argument_list|,
literal|"Blob Get Record Error Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getGetRecordTimeHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_GETREC_TIME
argument_list|,
literal|"Blob Get Record Times"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getGetRecordSizeHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_GETREC_SIZE
argument_list|,
literal|"Blob Get Record Sizes"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getGetRecordRateHistory
parameter_list|()
block|{
return|return
name|TimeSeriesStatsUtil
operator|.
name|asCompositeData
argument_list|(
name|getRecordRateSeries
argument_list|,
literal|"BlobGet Record bytes/sec"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getGetRecordIfStoredCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_GETRECIFSTORED_COUNT
argument_list|,
literal|"Blob Get Record If Stored Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getGetRecordIfStoredErrorCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_GETRECIFSTORED_ERROR_COUNT
argument_list|,
literal|"Blob Get Record If Stored Error Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getGetRecordIfStoredTimeHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_GETRECIFSTORED_TIME
argument_list|,
literal|"Blob Get Record If Stored Times"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getGetRecordIfStoredSizeHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_GETRECIFSTORED_SIZE
argument_list|,
literal|"Blob Get Record If Stored Sizes"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getGetRecordIfStoredRateHistory
parameter_list|()
block|{
return|return
name|TimeSeriesStatsUtil
operator|.
name|asCompositeData
argument_list|(
name|getRecordIfStoredRateSeries
argument_list|,
literal|"Blob Get Record If Stored bytes/sec"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getGetRecordFromReferenceCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_GETRECFROMREF_COUNT
argument_list|,
literal|"Blob Get Record From Reference Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getGetRecordFromReferenceErrorCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_GETRECFROMREF_ERROR_COUNT
argument_list|,
literal|"Blob Get Record From Reference Error Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getGetRecordFromReferenceTimeHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_GETRECFROMREF_TIME
argument_list|,
literal|"Blob Get Record From Reference Times"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getGetRecordFromReferenceSizeHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_GETRECFROMREF_SIZE
argument_list|,
literal|"Blob Get Record From Reference Sizes"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getGetRecordFromReferenceRateHistory
parameter_list|()
block|{
return|return
name|TimeSeriesStatsUtil
operator|.
name|asCompositeData
argument_list|(
name|getRecordFromRefRateSeries
argument_list|,
literal|"Blob Get Record From Reference bytes/sec"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getGetRecordForIdCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_GETRECFORID_COUNT
argument_list|,
literal|"Blob Get Record for ID Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getGetRecordForIdErrorCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_GETRECFORID_ERROR_COUNT
argument_list|,
literal|"Blob Get Record for ID Error Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getGetRecordForIdTimeHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_GETRECFORID_TIME
argument_list|,
literal|"Blob Get Record for ID Times"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getGetRecordForIdSizeHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_GETRECFORID_SIZE
argument_list|,
literal|"Blob Get Record For ID Sizes"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getGetRecordForIdRateHistory
parameter_list|()
block|{
return|return
name|TimeSeriesStatsUtil
operator|.
name|asCompositeData
argument_list|(
name|getRecordForIdRateSeries
argument_list|,
literal|"Blob Get Record For ID bytes/sec"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getGetAllRecordsCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_GETALLRECORDS_COUNT
argument_list|,
literal|"Blob Get All Records Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getGetAllRecordsTimeHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_GETALLRECORDS_TIME
argument_list|,
literal|"Blob Get All Records Times"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getListIdsCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_LISTIDS_COUNT
argument_list|,
literal|"Blob Get All Identifiers Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getListIdsTimeHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_LISTIDS_TIME
argument_list|,
literal|"Blob Get All Identifiers Times"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getListIdsErrorCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_LISTIDS_ERROR_COUNT
argument_list|,
literal|"Blob Get All Identifiers Error Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getAddMetadataRecordCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_ADD_METADATA_RECORD_COUNT
argument_list|,
literal|"Blob Add Metadata Record Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getAddMetadataRecordTimeHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_ADD_METADATA_RECORD_TIME
argument_list|,
literal|"Blob Add Metadata Record Times"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getAddMetadataRecordErrorCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_ADD_METADATA_RECORD_ERROR_COUNT
argument_list|,
literal|"Blob Add Metadata Record Error Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getGetMetadataRecordCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_GET_METADATA_RECORD_COUNT
argument_list|,
literal|"Blob Get Metadata Record Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getGetMetadataRecordTimeHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_GET_METADATA_RECORD_TIME
argument_list|,
literal|"Blob Get Metadata Record Times"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getGetMetadataRecordErrorCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_GET_METADATA_RECORD_ERROR_COUNT
argument_list|,
literal|"Blob Get Metadata Record Error Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getGetAllMetadataRecordsCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_GET_ALL_METADATA_RECORDS_COUNT
argument_list|,
literal|"Blob Get All Metadata Records Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getGetAllMetadataRecordsTimeHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_GET_ALL_METADATA_RECORDS_TIME
argument_list|,
literal|"Blob Get All Metadata Records Times"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getGetAllMetadataRecordsErrorCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_GET_ALL_METADATA_RECORDS_ERROR_COUNT
argument_list|,
literal|"Blob Get All Metadata Records Error Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getMetadataRecordExistsCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_METADATA_RECORD_EXISTS_COUNT
argument_list|,
literal|"Blob Metadata Record Exists Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getMetadataRecordExistsTimeHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_METADATA_RECORD_EXISTS_TIME
argument_list|,
literal|"Blob Metadata Record Exists Times"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getMetadataRecordExistsErrorCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_METADATA_RECORD_EXISTS_ERROR_COUNT
argument_list|,
literal|"Blob Metadata Record Exists Error Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getDeleteMetadataRecordCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_DELETE_METADATA_RECORD_COUNT
argument_list|,
literal|"Blob Delete Metadata Record Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getDeleteMetadataRecordTimeHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_DELETE_METADATA_RECORD_TIME
argument_list|,
literal|"Blob Delete Metadata Record Times"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getDeleteMetadataRecordErrorCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_DELETE_METADATA_RECORD_ERROR_COUNT
argument_list|,
literal|"Blob Delete Metadata Record Error Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getDeleteAllMetadataRecordsCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_DELETE_ALL_METADATA_RECORDS_COUNT
argument_list|,
literal|"Blob Delete All Metadata Records Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getDeleteAllMetadataRecordsTimeHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_DELETE_ALL_METADATA_RECORDS_TIME
argument_list|,
literal|"Blob Delete All Metadata Records Times"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getDeleteAllMetadataRecordsErrorCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_DELETE_ALL_METADATA_RECORDS_ERROR_COUNT
argument_list|,
literal|"Blob Delete All Metadata Records Error Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getInitBlobUploadCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_INIT_DIRECT_UPLOAD_COUNT
argument_list|,
literal|"Blob Initiate Direct Upload Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getInitBlobUploadTimeHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_INIT_DIRECT_UPLOAD_TIME
argument_list|,
literal|"Blob Initiate Direct Upload Times"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getInitBlobUploadErrorCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_INIT_DIRECT_UPLOAD_ERROR_COUNT
argument_list|,
literal|"Blob Initiate Direct Upload Error Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getCompleteBlobUploadCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_COMPLETE_DIRECT_UPLOAD_COUNT
argument_list|,
literal|"Blob Complete Direct Upload Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getCompleteBlobUploadTimeHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_COMPLETE_DIRECT_UPLOAD_TIME
argument_list|,
literal|"Blob Complete Direct Upload Times"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getCompleteBlobUploadErrorCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_COMPLETE_DIRECT_UPLOAD_ERROR_COUNT
argument_list|,
literal|"Blob Complete Direct Upload Error Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getGetBlobDownloadURICountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_GET_DIRECT_DOWNLOAD_URI_COUNT
argument_list|,
literal|"Blob Get Direct Download URI Counts"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getGetBlobDownloadURITimeHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_GET_DIRECT_DOWNLOAD_URI_TIME
argument_list|,
literal|"Blob Get Direct Download URI Times"
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|CompositeData
name|getGetBlobDownloadURIErrorCountHistory
parameter_list|()
block|{
return|return
name|getTimeSeriesData
argument_list|(
name|BLOB_GET_DIRECT_DOWNLOAD_URI_ERROR_COUNT
argument_list|,
literal|"Blob Get Direct Download URI Error Counts"
argument_list|)
return|;
block|}
specifier|private
name|CompositeData
name|getTimeSeriesData
parameter_list|(
name|String
name|name
parameter_list|,
name|String
name|desc
parameter_list|)
block|{
return|return
name|TimeSeriesStatsUtil
operator|.
name|asCompositeData
argument_list|(
name|getTimeSeries
argument_list|(
name|name
argument_list|)
argument_list|,
name|desc
argument_list|)
return|;
block|}
specifier|private
name|TimeSeries
name|getTimeSeries
parameter_list|(
name|String
name|name
parameter_list|)
block|{
return|return
name|statisticsProvider
operator|.
name|getStats
argument_list|()
operator|.
name|getTimeSeries
argument_list|(
name|name
argument_list|,
literal|true
argument_list|)
return|;
block|}
specifier|private
name|TimeSeries
name|getAvgTimeSeries
parameter_list|(
name|String
name|nameValue
parameter_list|,
name|String
name|nameCounter
parameter_list|)
block|{
return|return
operator|new
name|TimeSeriesAverage
argument_list|(
name|getTimeSeries
argument_list|(
name|nameValue
argument_list|)
argument_list|,
operator|new
name|UnitConvertingTimeSeries
argument_list|(
name|getTimeSeries
argument_list|(
name|nameCounter
argument_list|)
argument_list|,
name|recordedTimeUnit
argument_list|,
name|TimeUnit
operator|.
name|SECONDS
argument_list|)
argument_list|)
return|;
block|}
comment|/**      * TimeSeries which converts a Nanonsecond based time to Seconds for      * calculating bytes/sec rate for upload and download      */
specifier|private
specifier|static
class|class
name|UnitConvertingTimeSeries
implements|implements
name|TimeSeries
block|{
specifier|private
specifier|final
name|TimeSeries
name|series
decl_stmt|;
specifier|private
specifier|final
name|TimeUnit
name|source
decl_stmt|;
specifier|private
specifier|final
name|TimeUnit
name|dest
decl_stmt|;
specifier|public
name|UnitConvertingTimeSeries
parameter_list|(
name|TimeSeries
name|series
parameter_list|,
name|TimeUnit
name|source
parameter_list|,
name|TimeUnit
name|dest
parameter_list|)
block|{
name|this
operator|.
name|series
operator|=
name|series
expr_stmt|;
name|this
operator|.
name|source
operator|=
name|source
expr_stmt|;
name|this
operator|.
name|dest
operator|=
name|dest
expr_stmt|;
block|}
annotation|@
name|Override
specifier|public
name|long
index|[]
name|getValuePerSecond
parameter_list|()
block|{
return|return
name|convert
argument_list|(
name|series
operator|.
name|getValuePerSecond
argument_list|()
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
index|[]
name|getValuePerMinute
parameter_list|()
block|{
return|return
name|convert
argument_list|(
name|series
operator|.
name|getValuePerMinute
argument_list|()
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
index|[]
name|getValuePerHour
parameter_list|()
block|{
return|return
name|convert
argument_list|(
name|series
operator|.
name|getValuePerHour
argument_list|()
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
index|[]
name|getValuePerWeek
parameter_list|()
block|{
return|return
name|convert
argument_list|(
name|series
operator|.
name|getValuePerWeek
argument_list|()
argument_list|)
return|;
block|}
annotation|@
name|Override
specifier|public
name|long
name|getMissingValue
parameter_list|()
block|{
return|return
literal|0
return|;
block|}
specifier|private
name|long
index|[]
name|convert
parameter_list|(
name|long
index|[]
name|timings
parameter_list|)
block|{
for|for
control|(
name|int
name|i
init|=
literal|0
init|;
name|i
operator|<
name|timings
operator|.
name|length
condition|;
name|i
operator|++
control|)
block|{
name|timings
index|[
name|i
index|]
operator|=
name|dest
operator|.
name|convert
argument_list|(
name|timings
index|[
name|i
index|]
argument_list|,
name|source
argument_list|)
expr_stmt|;
block|}
return|return
name|timings
return|;
block|}
block|}
block|}
end_class

end_unit

